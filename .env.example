# AnyBank Identity Platform - Environment Configuration
# Copy this file to .env and update values as needed
# Usage: cp .env.example .env

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Configuration
POSTGRES_USER=bank
POSTGRES_PASSWORD=bank
POSTGRES_DB=anybank

# =============================================================================
# KEYCLOAK CONFIGURATION
# =============================================================================

# Keycloak Admin Credentials
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# Keycloak Client Secret (used by backend for token exchange)
# IMPORTANT: Generate a secure secret in production
KEYCLOAK_CLIENT_SECRET=anybank-api-secret

# =============================================================================
# SPRING BOOT BACKEND CONFIGURATION
# =============================================================================

# Spring Profile (local, dev, prod)
SPRING_PROFILES_ACTIVE=local

# =============================================================================
# SECURITY & JWT CONFIGURATION
# =============================================================================

# JWT Settings
JWT_SECRET=your-256-bit-secret-key-change-this-in-production
JWT_EXPIRATION=3600

# =============================================================================
# OPA (OPEN POLICY AGENT) CONFIGURATION
# =============================================================================

# OPA Policy Bundle URL (if using remote bundle)
# OPA_BUNDLE_URL=https://your-bundle-server.com/bundles/bank-policies.tar.gz

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Log Levels (TRACE, DEBUG, INFO, WARN, ERROR)
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_ANYBANK=DEBUG

# =============================================================================
# CORS & SECURITY HEADERS
# =============================================================================

# Allowed origins for CORS (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
ENABLE_SWAGGER=true
ENABLE_ACTUATOR=true
ENABLE_AUDIT_LOGGING=true

# =============================================================================
# EXTERNAL SERVICES (Production)
# =============================================================================

# Email Service (for notifications)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USERNAME=noreply@anybank.com
# SMTP_PASSWORD=your-smtp-password

# Redis (for session management and caching in production)
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Enable development mode features
DEV_MODE=true

# Seed demo data on startup
SEED_DEMO_DATA=true

# =============================================================================
# NOTES
# =============================================================================
#
# For production deployments:
# 1. Generate secure random passwords for all services
# 2. Use proper secrets management (AWS Secrets Manager, Vault, etc.)
# 3. Enable TLS/SSL for all connections
# 4. Rotate credentials regularly
# 5. Set DEV_MODE=false and SEED_DEMO_DATA=false
# 6. Review and update CORS_ALLOWED_ORIGINS
# 7. Enable proper monitoring and alerting
#
# Security Checklist:
# - [ ] Changed all default passwords
# - [ ] Generated new JWT secret (256-bit minimum)
# - [ ] Updated Keycloak client secrets
# - [ ] Configured proper CORS origins
# - [ ] Enabled HTTPS/TLS
# - [ ] Configured firewall rules
# - [ ] Set up log aggregation
# - [ ] Enabled audit logging
# - [ ] Reviewed OPA policies
# - [ ] Set up backup strategy
